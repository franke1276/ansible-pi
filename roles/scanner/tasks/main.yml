---
- set_fact:
    real_ansible_host: "{{ ansible_host }}"

- name: "redis is installed"
  apt:
    name: redis-server  
  
- service:
    name: redis-server 
    state: started
    enabled: true

- name: "python3 is installed"
  apt:
    name: python3
- name: "virtualenv is installed"
  apt:
    name: python-virtualenv
- name: "pip is installed"
  apt:
    name: python3-pip

- pip:
    name: PyBarCodeScan 
    virtualenv: /venv
    virtualenv_python: python3 
    state: latest
      
- service:
    name: barcodescan_sse
    state: started
    enabled: true
